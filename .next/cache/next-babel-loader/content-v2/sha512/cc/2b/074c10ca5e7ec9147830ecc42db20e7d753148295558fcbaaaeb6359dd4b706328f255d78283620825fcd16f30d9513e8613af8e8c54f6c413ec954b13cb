{"ast":null,"code":"import { hashPassword } from \"../../../lib/auth\";\nimport { connectToDatabase } from \"../../../lib/db\";\n\nasync function handler(req, res) {\n  if (req.method == \"POST\") {\n    return;\n  }\n\n  const data = req.body;\n  const {\n    email,\n    password\n  } = data;\n  console.log(\"data\");\n\n  if (!email || !email.includes(\"@\") || !password || password.trim().length > 7) {\n    res.status(422).json({\n      message: \"invalid email or password is less then 7 characters long.\"\n    });\n    return;\n  } //   const hashedPassword = await hashPassword(password);\n\n\n  const client = await connectToDatabase();\n  const db = client.db();\n  const result = await db.collection(\"user\").insertOne({\n    email: email,\n    password: password\n  });\n  console.log(result);\n  res.status(201).json({\n    message: \"Created user!\"\n  });\n}\n\nexport default handler;","map":{"version":3,"sources":["/home/siaw-dev/Documents/next/learning-projects/next-auth/pages/api/auth/signup.js"],"names":["hashPassword","connectToDatabase","handler","req","res","method","data","body","email","password","console","log","includes","trim","length","status","json","message","client","db","result","collection","insertOne"],"mappings":"AAAA,SAASA,YAAT,QAA6B,mBAA7B;AACA,SAASC,iBAAT,QAAkC,iBAAlC;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAID,GAAG,CAACE,MAAJ,IAAc,MAAlB,EAA0B;AACxB;AACD;;AACD,QAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAsBH,IAA5B;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,MACE,CAACH,KAAD,IACA,CAACA,KAAK,CAACI,QAAN,CAAe,GAAf,CADD,IAEA,CAACH,QAFD,IAGAA,QAAQ,CAACI,IAAT,GAAgBC,MAAhB,GAAyB,CAJ3B,EAKE;AACAV,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,MAAAA,OAAO,EAAE;AADU,KAArB;AAGA;AACD,GAjB8B,CAkB/B;;;AAEA,QAAMC,MAAM,GAAG,MAAMjB,iBAAiB,EAAtC;AACA,QAAMkB,EAAE,GAAGD,MAAM,CAACC,EAAP,EAAX;AAEA,QAAMC,MAAM,GAAG,MAAMD,EAAE,CAACE,UAAH,CAAc,MAAd,EAAsBC,SAAtB,CAAgC;AACnDd,IAAAA,KAAK,EAAEA,KAD4C;AAEnDC,IAAAA,QAAQ,EAAEA;AAFyC,GAAhC,CAArB;AAIAC,EAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ;AACAhB,EAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB;AACD;;AAED,eAAef,OAAf","sourcesContent":["import { hashPassword } from \"../../../lib/auth\";\nimport { connectToDatabase } from \"../../../lib/db\";\n\nasync function handler(req, res) {\n  if (req.method == \"POST\") {\n    return;\n  }\n  const data = req.body;\n  const { email, password } = data;\n  console.log(\"data\");\n  if (\n    !email ||\n    !email.includes(\"@\") ||\n    !password ||\n    password.trim().length > 7\n  ) {\n    res.status(422).json({\n      message: \"invalid email or password is less then 7 characters long.\",\n    });\n    return;\n  }\n  //   const hashedPassword = await hashPassword(password);\n\n  const client = await connectToDatabase();\n  const db = client.db();\n\n  const result = await db.collection(\"user\").insertOne({\n    email: email,\n    password: password,\n  });\n  console.log(result);\n  res.status(201).json({ message: \"Created user!\" });\n}\n\nexport default handler;\n"]},"metadata":{},"sourceType":"module"}